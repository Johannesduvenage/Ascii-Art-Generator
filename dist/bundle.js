!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r=n(1);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=document.getElementById("myCanvas"),a=i.getContext("2d"),u=(a.getImageData(0,0,i.width,i.height).data,document.getElementById("ascii")),d=document.getElementById("player"),l=document.getElementById("start_stream"),c=document.getElementById("upload"),f=" `-^Â¬:L*iCtfG0X8@#&%",h=Math.floor(.15*i.width),g=Math.floor(.15*i.height),s=i.width,m=i.height,y=!1,p=function(t,e){var n=Math.floor(function(){var t=document.createElement("pre");t.style.display="inline",t.textContent=f[0],document.body.appendChild(t);var e=t.getBoundingClientRect(),n=e.width,r=e.height;return document.body.removeChild(t),r/n}()*t);if(e>g)return[Math.floor(n*g/e),g];if(t>h){var r=Math.floor(e*h/n);return[h,r]}return[n,e]};window.onload=function(){d.style.display="none",i.style.display="none"},l.addEventListener("click",function(){(0,r.openWebcam)().then(function(t){(0,r.startStream)(t,y,d);(y=!y)?(l.innerHTML="Stop Stream",d.addEventListener("play",function(){w()},!1)):l.innerHTML="Start Stream"})}),c.addEventListener("change",function(t){v()});var v=function(){var t=document.getElementById("upload").files[0],e=new FileReader;t?e.readAsDataURL(t):console.log("Error opening file!"),e.addEventListener("load",function(){var t=new Image;t.src=e.result,t.onload=function(){i.width=t.width,i.height=t.height,a.drawImage(t,0,0,t.width,t.height);var e=o(p(s,m),2),n=e[0],r=e[1];i.width=n,i.height=r,a.drawImage(t,0,0,i.width,i.height),b(),I()}},!1)},w=function t(){var e=i.getContext("2d"),n=o(p(s,m),2),r=n[0],a=n[1];i.width=r,i.height=a,e.drawImage(d,0,0,i.width,i.height),b(),I(),setTimeout(function(){t()},0)},b=function(){for(var t=a.getImageData(0,0,i.width,i.height),e=t.data,n=0;n<e.length;n+=4){var r=function(t,e,n){return(Math.max(t,e,n)+Math.min(t,e,n))/2}(e[n],e[n+1],e[n+2]);e[n]=e[n+1]=e[n+2]=r}a.putImageData(t,0,0)},I=function(){for(var t,e=a.getImageData(0,0,i.width,i.height).data,n="",r=0;r<e.length;r+=4)r/4%i.width==0&&(n+="\n",0),n+=(t=e[r],function(t,e){for(;e-1>0;)t+=t,e--;return t}(f[Math.floor((f.length-1)*t/255)],1));u.style.fontSize="5px",u.textContent=n}},function(t,e,n){"use strict";n.r(e),n.d(e,"openWebcam",function(){return r}),n.d(e,"startStream",function(){return o});const r=()=>navigator.mediaDevices.getUserMedia({video:!0}),o=(t,e,n)=>{let r;return e?r.forEach(t=>{t.stop()}):(n.srcObject=t,r=t.getVideoTracks()),r}}]);